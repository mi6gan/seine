import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import { defaultTheme, Editor } from '@seine/editor';
import { ThemeProvider } from '@seine/styles';
import Description from '../Description';

<Meta
  title={'Docs/Editor/API'}
  component={Editor}
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: {
        hidden: true,
      },
      'storybook/docs/panel': {
        hidden: false,
      },
    },
  }}
/>

<Description />
<ArgsTable />

<Canvas>
  <Story
    name="Default layout"
    args={{
      children: [
        {
          id: 'f47a6c38-0c09-45b0-8412-2377aedaee8f',
          type: 'page',
          body: null,
          format: {
            parentType: null,
            alignSelf: 'auto',
            justifySelf: 'auto',
            maxWidth: '100%',
            minWidth: '100%',
            maxHeight: 'none',
            minHeight: 'auto',
            flexGrow: 0,
            flexBasis: 'auto',
            gridRow: '',
            gridColumn: '',
            version: '0.4',
            whiteSpace: null,
            kind: 'grid',
            columns: 'repeat(auto-fit,minmax(25ch,1fr))',
            columnGap: 0,
            rowGap: 0,
            rows: 'auto',
            justify: 'auto',
            alignItems: 'auto',
            spacing: 0,
          },
          parent_id: null,
        },
      ],
      theme: defaultTheme,
    }}
  >
    {() => (
      <ThemeProvider>
        <Editor onChange={action('onChange')} />
      </ThemeProvider>
    )}
  </Story>
</Canvas>
